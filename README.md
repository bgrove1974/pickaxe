Code from the pickaxe book, third edition.

Ch 11.2 Opening and Closing Files pp 153
