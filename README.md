Code from the pickaxe book, third edition.

Ch 4.3 Blocks and Iterators: Lazy Enumerators in Ruby 2 - pp 61
